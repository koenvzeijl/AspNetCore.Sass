<Project TreatAsLocalProperty="_SassCompilerTFM">

  <PropertyGroup>
    <SassCompilerBuildCommand Condition="$([MSBuild]::IsOSPlatform('Windows'))">$(MSBuildThisFileDirectory)..\runtimes\win-x64\src\dart.exe</SassCompilerBuildCommand>
    <SassCompilerBuildSnapshot Condition="$([MSBuild]::IsOSPlatform('Windows'))">&quot;$(MSBuildThisFileDirectory)..\runtimes\win-x64\src\sass.snapshot&quot;</SassCompilerBuildSnapshot>
    <SassCompilerBuildCommand Condition="$([MSBuild]::IsOSPlatform('Linux'))">$(MSBuildThisFileDirectory)..\runtimes\linux-x64\sass</SassCompilerBuildCommand>
    <SassCompilerBuildSnapshot Condition="$([MSBuild]::IsOSPlatform('Linux'))"> </SassCompilerBuildSnapshot>
    <SassCompilerBuildCommand Condition="$([MSBuild]::IsOSPlatform('OSX'))">$(MSBuildThisFileDirectory)..\runtimes\osx-x64\src\dart</SassCompilerBuildCommand>
    <SassCompilerBuildSnapshot Condition="$([MSBuild]::IsOSPlatform('OSX'))">&quot;$(MSBuildThisFileDirectory)..\runtimes\osx-x64\src\sass.snapshot&quot;</SassCompilerBuildSnapshot>

    <EnvironmentName>$(ASPNETCORE_ENVIRONMENT)</EnvironmentName>
    
    <SassCompilerProjectDir Condition="'$(SassCompilerProjectDir)' == ''">$(MSBuildProjectDirectory)</SassCompilerProjectDir>
    <SassCompilerSourceFolder Condition="'$(SassCompilerSourceFolder)' == ''">Styles</SassCompilerSourceFolder>
    <SassCompilerTargetFolder Condition="'$(SassCompilerTargetFolder)' == ''">wwwroot\css</SassCompilerTargetFolder>
    
    <SassCompilerArguments Condition="'$(SassCompilerArguments)' == '' And '$(Configuration)' == 'DEBUG'">--error-css --style=expanded --no-source-map</SassCompilerArguments>
    <SassCompilerArguments Condition="'$(SassCompilerArguments)' == '' And '$(Configuration)' != 'DEBUG'">--error-css --style=compressed --no-source-map</SassCompilerArguments>

    <SassCompilerAssembly Condition="'$(SassCompilerAssembly)' == ''">$(MSBuildThisFileDirectory)..\lib\netstandard2.0\AspNetCore.SassCompiler.Tasks.dll</SassCompilerAssembly>
  </PropertyGroup>

  <ItemGroup>
    <AssemblyAttribute Include="AspNetCore.SassCompiler.SassCompilerAttribute">
      <_Parameter1>$(SassCompilerBuildCommand)</_Parameter1>
      <_Parameter2>$(SassCompilerBuildSnapshot)</_Parameter2>
    </AssemblyAttribute>
  </ItemGroup>

</Project>
